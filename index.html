<!DOCTYPE html>
<html>
<head>

	<!-- Meta setup -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<!-- Title -->
	<title>Injectplate</title>

	<!-- Include Injectplate -->
	<script src="js/injectplate.js"></script>

</head>
<body>

	<script>
	// Start Inject
	var $inject = new injectplate();

	// Create components
	$inject.component({
		name: 'text',
		html: [
			'<h1 @if heading != undefined @ class="test">{{heading}}</h1>',
			'<p>{{text}}</p>'
		]
	});
	$inject.component({
		name: 'article',
		html: [
			'<div class="textExample">',
			'<h1>{{heading}}</h1>', {
				paragraphs: [
					'<p{{attributes.id}}{{attributes.className}}>',
					'{{text}}',
					'</p>'
				]
			},
			'</div>',
			'<div id="listExample"></div>'
		]
	});
	$inject.component({
		name: 'list',
		html: [
			'<ul>',{
				listItems: ['<li @if state == active @>{{text}}</li>']
			},
			'</ul>'
		]
	});

	// Show the component list
	$inject.log($inject.componentList);

	// Inject components
	$inject.bind({
		component: 'text',
		to: 'body',
		data: {
			heading: 'Simple Injection',
			text: 'You can insert lots of different things.'
		}
	});
	$inject.bind({
		component: 'article',
		to: 'body',
		data: {
			heading: 'Nested Example',
			paragraphs: {
				0: {
					attributes: {
						id: ' data-attribute="example"',
						className: ' class="first"'
					},
					text: 'This is the first paragraph.'
				},
				1: {
					attributes: {
						className: ' class="middle"'
					},
					text: 'Here is the middle paragraph.'
				},
				2: {
					attributes: {
						className: ' class="last"'
					},
					text: 'And last but not least, the final paragraph.'
				}
			}
		},
		onDone: function() {
			$inject.bind({
				component: 'list',
				to: '#listExample',
				data: {
					listItems: {
						0: {
							state: 'active',
							text: 'List Item 1'
						},
						1: {
							state: 'inactive',
							text: 'List Item 2'
						},
						2: {
							state: 'active',
							text: 'List Item 3'
						}
					}
				},
				onDone: function() {
					console.log('Done Binding!');
				}
			});
		}
	});
	</script>

</body>
</html>
