if(!Rocket)var Rocket_1={defaults:{}};Rocket.defaults.inject={errors:!0};var RockMod_Inject;!function(e){function t(e,t){var n="";switch(typeof e){case"object":for(var o=0,r=e;o<r.length;o++){var c=r[o];n+=c}return n;case"string":for(var i=0,s=e.split(/(?:\r\n|\n|\r)/);i<s.length;i++){var c=s[i];n+=c.trim()}return n}if(Rocket.defaults.errors)throw new Error('Injectplate: The HTML provided to create the component "'+t+'" is not valid.')}var n={},o={bind:function(e){if(!r.bind(e))return!1;var t=Rocket.is.string(e.to)?Rocket.dom.select(e.to):Rocket.dom.select("#"+e.component)[0];if(!Rocket.exists(t))return!1;for(var o=Rocket.is.object(e.data)?e.data:"",c=Mustache.render(n[e.component].html,o),i=0,s=t;i<s.length;i++){var a=s[i];e.overwrite===!0?a.innerHTML=c:a.insertAdjacentHTML("beforeend",c),a.setAttribute("data-inject","true"),Rocket.is.string(n[e.component].id)&&(a.id=n[e.component].id),Rocket.is.string(n[e.component].className)&&Rocket.classes.add(a,n[e.component].className),Rocket.is.function(n[e.component].onDone)&&n[e.component].onDone(a),Rocket.is.function(e.onDone)&&e.onDone(a)}},generate:function(e){if(!r.generate(e))return!1;var t="";return Rocket.is.object(e.data)&&(t=Mustache.render(n[e.component].html,e.data)),t},register:function(e){if(!r.register(e)){if(Rocket.defaults.errors)throw new Error("Injectplate: Please provide a valid component name.");return!1}n[e.name]={className:!!Rocket.is.string(e.className)&&e.className,id:!!Rocket.is.string(e.id)&&e.id,html:t(e.html,e.name),onDone:!!Rocket.is.function(e.onDone)&&e.onDone,overwrite:!!Rocket.is.boolean(e.overwrite)&&e.overwrite}}},r={bind:function(e){return!!Rocket.is.object(e)&&(!!Rocket.is.string(e.component)&&!!Rocket.is.object(n[e.component]))},generate:function(e){return!!Rocket.is.object(e)&&!!Rocket.exists(e.component)},register:function(e){return!!Rocket.is.object(e)&&!!Rocket.exists(e.name)}};e.bind=o.bind,e.component=o.register,e.flatten=t,e.generate=o.generate,e.list=n}(RockMod_Inject||(RockMod_Inject={}));var isNodeModule=!1;if("undefined"!=typeof exports&&!exports.nodeType&&"undefined"!=typeof module&&!module.nodeType&&module.exports){var Mustache=require("mustache"),Rocket=require("rocket-tools");module.exports=RockMod_Inject,isNodeModule=!0}isNodeModule||(Rocket.inject=RockMod_Inject);