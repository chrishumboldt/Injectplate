var Rocket="object"==typeof Rocket?Rocket:{};Rocket.defaults||(Rocket.defaults={}),Rocket.defaults.inject={errors:!0};var RocketInjectComponent;!function(e){function t(e,t){var o=e.className.split(" ");o.push(t),o=o.filter(function(e,t,n){return n.indexOf(e)===t&&""!==e}),n(e,o)}function n(e,t){0===t.length?e.removeAttribute("class"):1===t.length?e.className=t[0]:e.className=t.join(" ")}function o(e,t){var n="";switch(typeof e){case"object":for(var o=0,r=e;o<r.length;o++){var c=r[o];n+=c}return n;case"string":for(var a=0,i=e.split(/(?:\r\n|\n|\r)/);a<i.length;a++){var c=i[a];n+=c.trim()}return n}if(Rocket.defaults.errors)throw new Error('Injectplate: The HTML provided to create the component "'+t+'" is not valid.')}var r={},c={bind:function(e){if(!a.bind(e))return!1;var n="string"==typeof e.to?document.querySelectorAll(e.to):document.getElementById("#"+e.component);if("undefined"==typeof n)return!1;for(var o="object"==typeof e.data?e.data:"",c=Mustache.render(r[e.component].html,o),i=0,f=n;i<f.length;i++){var s=f[i];e.overwrite===!0?s.innerHTML=c:s.insertAdjacentHTML("beforeend",c),s.setAttribute("data-inject","true"),"string"==typeof r[e.component].id&&(s.id=r[e.component].id),"string"==typeof r[e.component].className&&t(s,r[e.component].className),"function"==typeof r[e.component].onDone&&r[e.component].onDone(s),"function"==typeof e.onDone&&e.onDone(s)}},generate:function(e){if(!a.generate(e))return!1;var t="";return"object"==typeof e.data&&(t=Mustache.render(r[e.component].html,e.data)),t},register:function(e){if(!a.register(e)){if(Rocket.defaults.errors)throw new Error("Injectplate: Please provide a valid component name.");return!1}r[e.name]={className:"string"==typeof e.className&&e.className,id:"string"==typeof e.id&&e.id,html:o(e.html,e.name),onDone:"function"==typeof e.onDone&&e.onDone,overwrite:"boolean"==typeof e.overwrite&&e.overwrite}}},a={bind:function(e){return"object"==typeof e&&("string"==typeof e.component&&"object"==typeof r[e.component])},generate:function(e){return"object"==typeof e&&"undefined"!=typeof e.component},register:function(e){return"object"==typeof e&&"undefined"!=typeof e.name}};e.bind=c.bind,e.component=c.register,e.flatten=o,e.generate=c.generate,e.list=r}(RocketInjectComponent||(RocketInjectComponent={}));var isNodeModule=!1;if("undefined"!=typeof exports&&!exports.nodeType&&"undefined"!=typeof module&&!module.nodeType&&module.exports){var Mustache=require("mustache");module.exports=RocketInjectComponent,isNodeModule=!0}isNodeModule||(Rocket.inject=RocketInjectComponent);